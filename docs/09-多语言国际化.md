# å¤šè¯­è¨€å›½é™…åŒ–è®¾è®¡

## æ”¯æŒè¯­è¨€åˆ—è¡¨

### ç›®æ ‡è¯­è¨€å¸‚åœº
```javascript
export const SUPPORTED_LOCALES = {
  'zh': {
    name: 'ä¸­æ–‡ç®€ä½“',
    nativeName: 'ä¸­æ–‡ç®€ä½“',
    flag: 'ğŸ‡¨ğŸ‡³',
    dir: 'ltr',
    region: 'CN',
    currency: 'CNY',
    numberFormat: 'zh-CN'
  },
  'en': {
    name: 'English',
    nativeName: 'English',
    flag: 'ğŸ‡ºğŸ‡¸',
    dir: 'ltr',
    region: 'US',
    currency: 'USD',
    numberFormat: 'en-US'
  },
  'ja': {
    name: 'Japanese',
    nativeName: 'æ—¥æœ¬èª',
    flag: 'ğŸ‡¯ğŸ‡µ',
    dir: 'ltr',
    region: 'JP',
    currency: 'JPY',
    numberFormat: 'ja-JP'
  },
  'ko': {
    name: 'Korean',
    nativeName: 'í•œêµ­ì–´',
    flag: 'ğŸ‡°ğŸ‡·',
    dir: 'ltr',
    region: 'KR',
    currency: 'KRW',
    numberFormat: 'ko-KR'
  },
  'ru': {
    name: 'Russian',
    nativeName: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹',
    flag: 'ğŸ‡·ğŸ‡º',
    dir: 'ltr',
    region: 'RU',
    currency: 'RUB',
    numberFormat: 'ru-RU'
  },
  'vi': {
    name: 'Vietnamese',
    nativeName: 'Tiáº¿ng Viá»‡t',
    flag: 'ğŸ‡»ğŸ‡³',
    dir: 'ltr',
    region: 'VN',
    currency: 'VND',
    numberFormat: 'vi-VN'
  },
  'fr': {
    name: 'French',
    nativeName: 'FranÃ§ais',
    flag: 'ğŸ‡«ğŸ‡·',
    dir: 'ltr',
    region: 'FR',
    currency: 'EUR',
    numberFormat: 'fr-FR'
  },
  'de': {
    name: 'German',
    nativeName: 'Deutsch',
    flag: 'ğŸ‡©ğŸ‡ª',
    dir: 'ltr',
    region: 'DE',
    currency: 'EUR',
    numberFormat: 'de-DE'
  },
  'it': {
    name: 'Italian',
    nativeName: 'Italiano',
    flag: 'ğŸ‡®ğŸ‡¹',
    dir: 'ltr',
    region: 'IT',
    currency: 'EUR',
    numberFormat: 'it-IT'
  },
  'tr': {
    name: 'Turkish',
    nativeName: 'TÃ¼rkÃ§e',
    flag: 'ğŸ‡¹ğŸ‡·',
    dir: 'ltr',
    region: 'TR',
    currency: 'TRY',
    numberFormat: 'tr-TR'
  },
  'ar': {
    name: 'Arabic',
    nativeName: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©',
    flag: 'ğŸ‡¸ğŸ‡¦',
    dir: 'rtl',
    region: 'SA',
    currency: 'SAR',
    numberFormat: 'ar-SA'
  }
};

export const DEFAULT_LOCALE = 'zh';
export const FALLBACK_LOCALE = 'en';
```

## i18næ¶æ„è®¾è®¡

### Next.jså›½é™…åŒ–é…ç½®
```typescript
// src/i18n/config.ts
export const i18nConfig = {
  defaultLocale: 'zh',
  locales: ['zh', 'en', 'ja', 'ko', 'ru', 'vi', 'fr', 'de', 'it', 'tr', 'ar'],
  localeDetection: false, // ç¦ç”¨è‡ªåŠ¨æ£€æµ‹ï¼Œä½¿ç”¨URLè·¯å¾„
  
  // è¯­è¨€æ˜ å°„
  localeMapping: {
    'zh-cn': 'zh',
    'zh-hans': 'zh',
    'en-us': 'en',
    'ja-jp': 'ja',
    'ko-kr': 'ko',
  },
  
  // åŸŸåæœ¬åœ°åŒ–ï¼ˆå¯é€‰ï¼‰
  domains: [
    {
      domain: 'elec-distributor.com',
      defaultLocale: 'zh',
    },
    {
      domain: 'elec-distributor.com.en',
      defaultLocale: 'en',
    },
  ],
} as const;

export type Locale = typeof i18nConfig.locales[number];
```

### è¯­è¨€åŒ…ç»“æ„è®¾è®¡
```typescript
// src/i18n/types.ts
export interface TranslationKeys {
  common: {
    brand: string;
    company: string;
    loading: string;
    error: string;
    success: string;
    cancel: string;
    confirm: string;
    save: string;
    edit: string;
    delete: string;
    search: string;
    filter: string;
    sort: string;
    more: string;
    less: string;
  };
  
  navigation: {
    home: string;
    brands: string;
    products: string;
    about: string;
    contact: string;
    search: string;
    language: string;
  };
  
  homepage: {
    hero: {
      title: string;
      subtitle: string;
      cta_primary: string;
      cta_secondary: string;
    };
    advantages: {
      title: string;
      inventory: {
        title: string;
        description: string;
      };
      support: {
        title: string;
        description: string;
      };
      quality: {
        title: string;
        description: string;
      };
      logistics: {
        title: string;
        description: string;
      };
    };
    products: {
      title: string;
      view_all: string;
    };
    solutions: {
      title: string;
      view_all: string;
    };
    news: {
      title: string;
      view_all: string;
    };
  };
  
  products: {
    title: string;
    category: string;
    brand: string;
    price: string;
    stock: string;
    datasheet: string;
    inquiry: string;
    compare: string;
    favorite: string;
    in_stock: string;
    backorder: string;
    out_of_stock: string;
    specifications: string;
    related_products: string;
    technical_support: string;
  };
  
  inquiry: {
    title: string;
    single_product: string;
    bulk_inquiry: string;
    quantity: string;
    lead_time: string;
    contact_name: string;
    phone: string;
    email: string;
    company: string;
    application: string;
    remarks: string;
    submit: string;
    success_message: string;
    error_message: string;
  };
  
  footer: {
    company_info: string;
    quick_links: string;
    services: string;
    contact: string;
    copyright: string;
    distributor_expert: string;
    professional_distributor: string;
    chip_supplier: string;
    technical_support: string;
    bom_service: string;
  };
  
  seo: {
    home: {
      title: string;
      description: string;
    };
    brands: {
      title: string;
      description: string;
    };
    products: {
      title: string;
      description: string;
    };
    about: {
      title: string;
      description: string;
    };
  };
}
```

## è¯­è¨€åŒ…å†…å®¹

### ä¸­æ–‡è¯­è¨€åŒ…
```json
// src/i18n/locales/zh.json
{
  "common": {
    "brand": "åŠ›é€šç”µå­",
    "company": "åŠ›é€šç”µå­æœ‰é™å…¬å¸",
    "loading": "åŠ è½½ä¸­...",
    "error": "å‡ºé”™äº†",
    "success": "æˆåŠŸ",
    "cancel": "å–æ¶ˆ",
    "confirm": "ç¡®è®¤",
    "save": "ä¿å­˜",
    "edit": "ç¼–è¾‘",
    "delete": "åˆ é™¤",
    "search": "æœç´¢",
    "filter": "ç­›é€‰",
    "sort": "æ’åº",
    "more": "æ›´å¤š",
    "less": "æ”¶èµ·"
  },
  
  "navigation": {
    "home": "é¦–é¡µ",
    "brands": "å“ç‰Œä¸­å¿ƒ",
    "products": "äº§å“åˆ†ç±»",
    "about": "å…³äºæˆ‘ä»¬",
    "contact": "è”ç³»æˆ‘ä»¬",
    "search": "æœç´¢äº§å“",
    "language": "è¯­è¨€"
  },
  
  "homepage": {
    "hero": {
      "title": "ç”µå­å…ƒä»¶ä»£ç†ä¸“å®¶ | èŠ¯ç‰‡ç°è´§ä¾›åº”å•† - åŠ›é€šç”µå­",
      "subtitle": "ä¸“ä¸šç”µå­å…ƒä»¶ä»£ç†å•†ï¼Œæä¾›æ­£å“åŸè£…èŠ¯ç‰‡ç°è´§ï¼ŒæŠ€æœ¯æ”¯æŒä¸ä¼˜åŠ¿ä»·æ ¼",
      "cta_primary": "ç«‹å³å’¨è¯¢",
      "cta_secondary": "äº§å“ç›®å½•"
    },
    "advantages": {
      "title": "ä¸ºä»€ä¹ˆé€‰æ‹©åŠ›é€šç”µå­",
      "inventory": {
        "title": "æ·±åº¦åº“å­˜",
        "description": "è¶…è¿‡10ä¸‡ç§ç”µå­å…ƒä»¶ç°è´§åº“å­˜ï¼Œç¡®ä¿å¿«é€Ÿäº¤ä»˜"
      },
      "support": {
        "title": "æŠ€æœ¯æ”¯æŒ",
        "description": "ä¸“ä¸šFAEå›¢é˜Ÿæä¾›å…¨æ–¹ä½æŠ€æœ¯æ”¯æŒå’Œé€‰å‹å»ºè®®"
      },
      "quality": {
        "title": "å“è´¨ä¿è¯",
        "description": "å®Œæ•´çš„æ•°å­—è¯ä¹¦è¿½è¸ªç³»ç»Ÿï¼Œç¡®ä¿äº§å“åŸè£…æ­£å“"
      },
      "logistics": {
        "title": "ç‰©æµé…é€",
        "description": "å…¨çƒç‰©æµé…é€ç½‘ç»œï¼Œå¿«é€Ÿå®‰å…¨é€è¾¾"
      }
    },
    "products": {
      "title": "æ ¸å¿ƒäº§å“é¢†åŸŸ",
      "view_all": "æŸ¥çœ‹å…¨éƒ¨äº§å“"
    },
    "solutions": {
      "title": "è§£å†³æ–¹æ¡ˆ",
      "view_all": "æŸ¥çœ‹å…¨éƒ¨æ–¹æ¡ˆ"
    },
    "news": {
      "title": "æœ€æ–°åŠ¨æ€",
      "view_all": "æŸ¥çœ‹å…¨éƒ¨æ–°é—»"
    }
  },
  
  "products": {
    "title": "äº§å“ä¸­å¿ƒ",
    "category": "äº§å“åˆ†ç±»",
    "brand": "å“ç‰Œ",
    "price": "ä»·æ ¼",
    "stock": "åº“å­˜",
    "datasheet": "è§„æ ¼ä¹¦",
    "inquiry": "è¯¢ä»·",
    "compare": "å¯¹æ¯”",
    "favorite": "æ”¶è—",
    "in_stock": "ç°è´§",
    "backorder": "æœŸè´§",
    "out_of_stock": "ç¼ºè´§",
    "specifications": "æŠ€æœ¯è§„æ ¼",
    "related_products": "ç›¸å…³äº§å“",
    "technical_support": "æŠ€æœ¯æ”¯æŒ"
  },
  
  "inquiry": {
    "title": "äº§å“è¯¢ä»·",
    "single_product": "å•äº§å“è¯¢ä»·",
    "bulk_inquiry": "æ‰¹é‡è¯¢ä»·",
    "quantity": "è¯¢ä»·æ•°é‡",
    "lead_time": "æœŸæœ›äº¤æœŸ",
    "contact_name": "è”ç³»äºº",
    "phone": "è”ç³»ç”µè¯",
    "email": "é‚®ç®±åœ°å€",
    "company": "å…¬å¸åç§°",
    "application": "åº”ç”¨åœºæ™¯",
    "remarks": "å¤‡æ³¨ä¿¡æ¯",
    "submit": "æäº¤è¯¢ä»·",
    "success_message": "è¯¢ä»·ç”³è¯·å·²æäº¤ï¼Œæˆ‘ä»¬ä¼šå°½å¿«ä¸æ‚¨è”ç³»",
    "error_message": "æäº¤å¤±è´¥ï¼Œè¯·æ£€æŸ¥ä¿¡æ¯åé‡è¯•"
  },
  
  "footer": {
    "company_info": "åŠ›é€šç”µå­ - ç”µå­å…ƒä»¶ä»£ç†ä¸“å®¶",
    "quick_links": "å¿«é€Ÿé“¾æ¥",
    "services": "æ ¸å¿ƒæœåŠ¡",
    "contact": "è”ç³»æˆ‘ä»¬",
    "copyright": "åŠ›é€šç”µå­ - å€¼å¾—ä¿¡èµ–çš„ç”µå­å…ƒä»¶ä»£ç†å•†",
    "distributor_expert": "ä¸“ä¸šç”µå­å…ƒä»¶ä»£ç†å•†ï¼Œæä¾›æ­£å“åŸè£…èŠ¯ç‰‡ç°è´§ï¼Œè¦†ç›–å…¨çƒçŸ¥åå“ç‰Œ",
    "professional_distributor": "ç”µå­å…ƒä»¶ä»£ç†æœåŠ¡",
    "chip_supplier": "èŠ¯ç‰‡ç°è´§ä¾›åº”",
    "technical_support": "æŠ€æœ¯æ”¯æŒæœåŠ¡",
    "bom_service": "BOMé…å•æœåŠ¡"
  },
  
  "seo": {
    "home": {
      "title": "ç”µå­å…ƒä»¶æ ¸å¿ƒä»£ç† | æä¾›æ­£å“åŸè£…ç°è´§ | LiTong",
      "description": "åŠ›é€šæ˜¯ç”µå­å…ƒä»¶æ ¸å¿ƒä»£ç†ï¼Œé•¿æœŸç¨³å®šä¾›åº”æä¾›æ­£å“åŸè£…ç°è´§ã€‚å¹¶æä¾›æŠ€æœ¯æ”¯æŒå’Œä¼˜åŠ¿ä»·æ ¼ï¼Œæ¬¢è¿å’¨è¯¢ã€‚"
    },
    "brands": {
      "title": "å“ç‰Œä¸­å¿ƒ | ç”µå­å…ƒä»¶å“ç‰Œä»£ç†å•† | åŠ›é€šç”µå­",
      "description": "åŠ›é€šç”µå­ä»£ç†å…¨çƒçŸ¥åç”µå­å…ƒä»¶å“ç‰Œï¼Œæä¾›åŸè£…æ­£å“å’Œä¸“ä¸šæŠ€æœ¯æ”¯æŒã€‚"
    },
    "products": {
      "title": "äº§å“ä¸­å¿ƒ | ç”µå­å…ƒä»¶äº§å“åˆ†ç±» | åŠ›é€šç”µå­",
      "description": "åŠ›é€šç”µå­æä¾›å®Œæ•´çš„ç”µå­å…ƒä»¶äº§å“åˆ†ç±»ï¼ŒåŒ…æ‹¬é›†æˆç”µè·¯ã€åˆ†ç«‹å™¨ä»¶ã€æ— æºå™¨ä»¶ç­‰ã€‚"
    },
    "about": {
      "title": "å…³äºæˆ‘ä»¬ | ç”µå­å…ƒä»¶ä»£ç†å•†ä»‹ç» | åŠ›é€šç”µå­",
      "description": "äº†è§£åŠ›é€šç”µå­çš„å‘å±•å†ç¨‹ã€æ ¸å¿ƒä¼˜åŠ¿å’ŒæœåŠ¡èƒ½åŠ›ï¼Œä¸“ä¸šçš„ç”µå­å…ƒä»¶ä»£ç†å•†ã€‚"
    }
  }
}
```

### è‹±æ–‡è¯­è¨€åŒ…
```json
// src/i18n/locales/en.json
{
  "common": {
    "brand": "LiTong Electronics",
    "company": "LiTong Electronics Co., Ltd.",
    "loading": "Loading...",
    "error": "Error",
    "success": "Success",
    "cancel": "Cancel",
    "confirm": "Confirm",
    "save": "Save",
    "edit": "Edit",
    "delete": "Delete",
    "search": "Search",
    "filter": "Filter",
    "sort": "Sort",
    "more": "More",
    "less": "Less"
  },
  
  "navigation": {
    "home": "Home",
    "brands": "Brands",
    "products": "Products",
    "about": "About",
    "contact": "Contact",
    "search": "Search Products",
    "language": "Language"
  },
  
  "homepage": {
    "hero": {
      "title": "Electronic Components Distributor | IC Chips Supplier - LiTong",
      "subtitle": "Professional electronic components distributor providing genuine IC chips in stock with technical support and competitive prices",
      "cta_primary": "Contact Us",
      "cta_secondary": "Product Catalog"
    },
    "advantages": {
      "title": "Why Choose LiTong Electronics",
      "inventory": {
        "title": "Deep Inventory",
        "description": "Over 100,000 electronic components in stock for fast delivery"
      },
      "support": {
        "title": "Technical Support",
        "description": "Professional FAE team provides comprehensive technical support and selection guidance"
      },
      "quality": {
        "title": "Quality Assurance",
        "description": "Complete digital certificate tracking system ensures genuine original products"
      },
      "logistics": {
        "title": "Global Logistics",
        "description": "Worldwide logistics network for fast and secure delivery"
      }
    },
    "products": {
      "title": "Core Product Areas",
      "view_all": "View All Products"
    },
    "solutions": {
      "title": "Solutions",
      "view_all": "View All Solutions"
    },
    "news": {
      "title": "Latest News",
      "view_all": "View All News"
    }
  },
  
  "products": {
    "title": "Product Center",
    "category": "Category",
    "brand": "Brand",
    "price": "Price",
    "stock": "Stock",
    "datasheet": "Datasheet",
    "inquiry": "Inquiry",
    "compare": "Compare",
    "favorite": "Favorite",
    "in_stock": "In Stock",
    "backorder": "Backorder",
    "out_of_stock": "Out of Stock",
    "specifications": "Specifications",
    "related_products": "Related Products",
    "technical_support": "Technical Support"
  },
  
  "inquiry": {
    "title": "Product Inquiry",
    "single_product": "Single Product",
    "bulk_inquiry": "Bulk Inquiry",
    "quantity": "Quantity",
    "lead_time": "Lead Time",
    "contact_name": "Contact Name",
    "phone": "Phone",
    "email": "Email",
    "company": "Company",
    "application": "Application",
    "remarks": "Remarks",
    "submit": "Submit Inquiry",
    "success_message": "Inquiry submitted successfully, we will contact you soon",
    "error_message": "Submission failed, please check and try again"
  },
  
  "footer": {
    "company_info": "LiTong Electronics - Electronic Components Expert",
    "quick_links": "Quick Links",
    "services": "Core Services",
    "contact": "Contact Us",
    "copyright": "LiTong Electronics - Trusted Electronic Components Distributor",
    "distributor_expert": "Professional electronic components distributor providing genuine IC chips in stock, covering global renowned brands",
    "professional_distributor": "Electronic Components Distribution",
    "chip_supplier": "IC Chips Supply",
    "technical_support": "Technical Support",
    "bom_service": "BOM Service"
  },
  
  "seo": {
    "home": {
      "title": "Electronic Components Distributor | Genuine IC Chips Supplier | LiTong",
      "description": "LiTong is a professional electronic components distributor providing genuine original IC chips in stock with technical support and competitive prices."
    },
    "brands": {
      "title": "Brands | Electronic Components Brand Distributor | LiTong",
      "description": "LiTong Electronics distributes global renowned electronic component brands with genuine products and professional technical support."
    },
    "products": {
      "title": "Products | Electronic Components Categories | LiTong",
      "description": "LiTong Electronics provides complete electronic component categories including integrated circuits, discrete components, passive components, etc."
    },
    "about": {
      "title": "About Us | Electronic Components Distributor | LiTong",
      "description": "Learn about LiTong Electronics' history, core advantages and service capabilities as a professional electronic components distributor."
    }
  }
}
```

## i18nå®ç°æœºåˆ¶

### ç¿»è¯‘Hookè®¾è®¡
```typescript
// src/i18n/hooks/useTranslation.ts
'use client';

import { useContext } from 'react';
import { I18nContext } from '@/i18n/context';
import type { TranslationKeys } from '@/i18n/types';

type NestedKeyOf<ObjectType extends object> = {
  [Key in keyof ObjectType & (string | number)]: ObjectType[Key] extends object
    ? `${Key}` | `${Key}.${NestedKeyOf<ObjectType[Key]>}`
    : `${Key}`;
}[keyof ObjectType & (string | number)];

type TranslationKey = NestedKeyOf<TranslationKeys>;

export function useTranslation() {
  const context = useContext(I18nContext);
  
  if (!context) {
    throw new Error('useTranslation must be used within I18nProvider');
  }
  
  const { locale, translations, setLocale } = context;
  
  const t = (key: TranslationKey, params?: Record<string, string | number>): string => {
    const keys = key.split('.');
    let value: any = translations;
    
    for (const k of keys) {
      value = value?.[k];
    }
    
    if (typeof value !== 'string') {
      console.warn(`Translation missing for key: ${key}`);
      return key;
    }
    
    // å‚æ•°æ›¿æ¢
    if (params) {
      return value.replace(/\{\{(\w+)\}\}/g, (match: string, paramKey: string) => {
        return params[paramKey]?.toString() || match;
      });
    }
    
    return value;
  };
  
  return {
    t,
    locale,
    setLocale,
    isRTL: locale === 'ar',
  };
}

// æœåŠ¡ç«¯ç¿»è¯‘å‡½æ•°
export async function getTranslation(locale: string) {
  try {
    const translations = await import(`@/i18n/locales/${locale}.json`);
    return translations.default;
  } catch (error) {
    console.warn(`Failed to load translations for locale: ${locale}`);
    const fallback = await import(`@/i18n/locales/en.json`);
    return fallback.default;
  }
}
```

### è¯­è¨€åˆ‡æ¢ç»„ä»¶
```typescript
// src/components/common/LanguageSwitch/LanguageSwitch.tsx
'use client';

import { useState } from 'react';
import { useRouter, usePathname } from 'next/navigation';
import { useTranslation } from '@/i18n/hooks/useTranslation';
import { SUPPORTED_LOCALES } from '@/i18n/config';
import { ChevronDownIcon, GlobeIcon } from '@/components/icons';

interface LanguageSwitchProps {
  className?: string;
  showLabel?: boolean;
}

export function LanguageSwitch({ className = '', showLabel = true }: LanguageSwitchProps) {
  const [isOpen, setIsOpen] = useState(false);
  const { locale, t } = useTranslation();
  const router = useRouter();
  const pathname = usePathname();
  
  const currentLocale = SUPPORTED_LOCALES[locale as keyof typeof SUPPORTED_LOCALES];
  
  const handleLocaleChange = (newLocale: string) => {
    // ç§»é™¤å½“å‰è¯­è¨€å‰ç¼€
    const pathnameWithoutLocale = pathname.replace(`/${locale}`, '') || '/';
    
    // æ·»åŠ æ–°è¯­è¨€å‰ç¼€ï¼ˆé™¤äº†é»˜è®¤è¯­è¨€ï¼‰
    const newPath = newLocale === 'zh' 
      ? pathnameWithoutLocale 
      : `/${newLocale}${pathnameWithoutLocale}`;
    
    router.push(newPath);
    setIsOpen(false);
  };
  
  return (
    <div className={`relative ${className}`}>
      <button
        onClick={() => setIsOpen(!isOpen)}
        className="flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
        aria-expanded={isOpen}
        aria-haspopup="true"
      >
        <GlobeIcon className="w-4 h-4" />
        <span className="flex items-center">
          <span className="mr-1">{currentLocale.flag}</span>
          {showLabel && <span>{currentLocale.nativeName}</span>}
        </span>
        <ChevronDownIcon className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''}`} />
      </button>
      
      {isOpen && (
        <>
          {/* é®ç½©å±‚ */}
          <div
            className="fixed inset-0 z-40"
            onClick={() => setIsOpen(false)}
          />
          
          {/* ä¸‹æ‹‰èœå• */}
          <div className="absolute right-0 z-50 mt-1 w-56 bg-white border border-gray-200 rounded-md shadow-lg">
            <div className="py-1" role="menu">
              {Object.entries(SUPPORTED_LOCALES).map(([code, localeInfo]) => (
                <button
                  key={code}
                  onClick={() => handleLocaleChange(code)}
                  className={`w-full flex items-center px-4 py-2 text-sm text-left hover:bg-gray-100 ${
                    locale === code ? 'bg-primary-50 text-primary-600' : 'text-gray-700'
                  }`}
                  role="menuitem"
                >
                  <span className="mr-3">{localeInfo.flag}</span>
                  <div>
                    <div className="font-medium">{localeInfo.nativeName}</div>
                    <div className="text-xs text-gray-500">{localeInfo.name}</div>
                  </div>
                  {locale === code && (
                    <svg className="w-4 h-4 ml-auto text-primary-600" fill="currentColor" viewBox="0 0 20 20">
                      <path fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
                    </svg>
                  )}
                </button>
              ))}
            </div>
          </div>
        </>
      )}
    </div>
  );
}
```

## æœ¬åœ°åŒ–é€‚é…ç­–ç•¥

### æ•°å­—å’Œè´§å¸æ ¼å¼åŒ–
```typescript
// src/lib/utils/format.ts
import { SUPPORTED_LOCALES } from '@/i18n/config';

export function formatCurrency(
  amount: number,
  currency: string,
  locale: string
): string {
  const localeConfig = SUPPORTED_LOCALES[locale as keyof typeof SUPPORTED_LOCALES];
  
  try {
    return new Intl.NumberFormat(localeConfig?.numberFormat || 'zh-CN', {
      style: 'currency',
      currency: currency || localeConfig?.currency || 'CNY',
      minimumFractionDigits: currency === 'JPY' ? 0 : 2,
    }).format(amount);
  } catch (error) {
    // å›é€€æ ¼å¼
    return `${currency} ${amount.toFixed(2)}`;
  }
}

export function formatNumber(
  number: number,
  locale: string,
  options?: Intl.NumberFormatOptions
): string {
  const localeConfig = SUPPORTED_LOCALES[locale as keyof typeof SUPPORTED_LOCALES];
  
  try {
    return new Intl.NumberFormat(
      localeConfig?.numberFormat || 'zh-CN',
      options
    ).format(number);
  } catch (error) {
    return number.toString();
  }
}

export function formatDate(
  date: Date | string,
  locale: string,
  options?: Intl.DateTimeFormatOptions
): string {
  const dateObj = typeof date === 'string' ? new Date(date) : date;
  const localeConfig = SUPPORTED_LOCALES[locale as keyof typeof SUPPORTED_LOCALES];
  
  const defaultOptions: Intl.DateTimeFormatOptions = {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  };
  
  try {
    return new Intl.DateTimeFormat(
      localeConfig?.numberFormat || 'zh-CN',
      { ...defaultOptions, ...options }
    ).format(dateObj);
  } catch (error) {
    return dateObj.toLocaleDateString();
  }
}
```

### RTLè¯­è¨€æ”¯æŒ
```scss
// src/styles/rtl.scss
:root[dir="rtl"] {
  // RTLç‰¹å®šæ ·å¼å˜é‡
  --text-align-start: right;
  --text-align-end: left;
  --margin-start: margin-right;
  --margin-end: margin-left;
  --padding-start: padding-right;
  --padding-end: padding-left;
  --border-start: border-right;
  --border-end: border-left;
}

:root[dir="ltr"] {
  --text-align-start: left;
  --text-align-end: right;
  --margin-start: margin-left;
  --margin-end: margin-right;
  --padding-start: padding-left;
  --padding-end: padding-right;
  --border-start: border-left;
  --border-end: border-right;
}

// RTLé€‚é…çš„ç»„ä»¶æ ·å¼
.navigation-menu {
  text-align: var(--text-align-start);
  
  [dir="rtl"] & {
    .menu-item {
      margin-right: 0;
      margin-left: 1rem;
    }
    
    .dropdown-arrow {
      transform: scaleX(-1);
    }
  }
}

.product-card {
  [dir="rtl"] & {
    .price-section {
      text-align: var(--text-align-start);
    }
    
    .action-buttons {
      flex-direction: row-reverse;
    }
  }
}

// é˜¿æ‹‰ä¼¯è¯­ç‰¹æ®Šå­—ä½“
[lang="ar"] {
  font-family: 'Noto Sans Arabic', 'Arabic UI Text', Arial, sans-serif;
  line-height: 1.8; // é˜¿æ‹‰ä¼¯è¯­éœ€è¦æ›´å¤§è¡Œé«˜
}
```

### åŠ¨æ€å¯¼å…¥è¯­è¨€åŒ…
```typescript
// src/lib/i18n/loader.ts
import { cache } from 'react';
import type { TranslationKeys } from '@/i18n/types';

// ç¼“å­˜ç¿»è¯‘æ•°æ®
export const getTranslations = cache(async (locale: string): Promise<TranslationKeys> => {
  try {
    // åŠ¨æ€å¯¼å…¥è¯­è¨€åŒ…
    const module = await import(`@/i18n/locales/${locale}.json`);
    return module.default;
  } catch (error) {
    console.warn(`Failed to load locale ${locale}, falling back to English`);
    // å›é€€åˆ°è‹±æ–‡
    const fallback = await import('@/i18n/locales/en.json');
    return fallback.default;
  }
});

// é¢„åŠ è½½å¸¸ç”¨è¯­è¨€åŒ…
export const preloadTranslations = (locales: string[]) => {
  return Promise.all(
    locales.map(locale => 
      import(`@/i18n/locales/${locale}.json`).catch(() => null)
    )
  );
};

// æ£€æŸ¥è¯­è¨€åŒ…æ˜¯å¦å­˜åœ¨
export const isLocaleSupported = (locale: string): boolean => {
  const supportedLocales = ['zh', 'en', 'ja', 'ko', 'ru', 'vi', 'fr', 'de', 'it', 'tr', 'ar'];
  return supportedLocales.includes(locale);
};
```

## SEOå¤šè¯­è¨€ä¼˜åŒ–

### hreflangæ ‡è®°ç”Ÿæˆ
```typescript
// src/components/common/SEO/HreflangLinks.tsx
import { SUPPORTED_LOCALES } from '@/i18n/config';

interface HreflangLinksProps {
  currentPath: string;
  currentLocale: string;
}

export function HreflangLinks({ currentPath, currentLocale }: HreflangLinksProps) {
  const baseUrl = process.env.NEXT_PUBLIC_SITE_URL || 'https://www.elec-distributor.com';
  
  // ç§»é™¤å½“å‰è¯­è¨€å‰ç¼€
  const pathWithoutLocale = currentPath.replace(`/${currentLocale}`, '') || '/';
  
  return (
    <>
      {Object.entries(SUPPORTED_LOCALES).map(([locale, config]) => {
        const href = locale === 'zh' 
          ? `${baseUrl}${pathWithoutLocale}`
          : `${baseUrl}/${locale}${pathWithoutLocale}`;
          
        return (
          <link
            key={locale}
            rel="alternate"
            hrefLang={locale}
            href={href}
          />
        );
      })}
      
      {/* x-defaultæŒ‡å‘é»˜è®¤è¯­è¨€ */}
      <link
        rel="alternate"
        hrefLang="x-default"
        href={`${baseUrl}${pathWithoutLocale}`}
      />
    </>
  );
}
```

### å¤šè¯­è¨€SEOå…ƒæ•°æ®
```typescript
// src/lib/seo/generateMetadata.ts
import { getTranslations } from '@/lib/i18n/loader';
import type { Metadata } from 'next';

interface SEOParams {
  locale: string;
  page: string;
  params?: Record<string, string>;
}

export async function generateLocalizedMetadata({ 
  locale, 
  page, 
  params = {} 
}: SEOParams): Promise<Metadata> {
  const t = await getTranslations(locale);
  const baseUrl = process.env.NEXT_PUBLIC_SITE_URL || 'https://www.elec-distributor.com';
  
  // æ ¹æ®é¡µé¢ç±»å‹ç”Ÿæˆä¸åŒçš„SEOå†…å®¹
  const seoContent = generateSEOContent(t, page, params);
  
  const canonicalUrl = locale === 'zh' 
    ? `${baseUrl}${seoContent.path}`
    : `${baseUrl}/${locale}${seoContent.path}`;
    
  return {
    title: seoContent.title,
    description: seoContent.description,
    keywords: seoContent.keywords,
    
    openGraph: {
      title: seoContent.title,
      description: seoContent.description,
      url: canonicalUrl,
      siteName: t.common.brand,
      locale: locale,
      type: 'website',
    },
    
    twitter: {
      card: 'summary_large_image',
      title: seoContent.title,
      description: seoContent.description,
    },
    
    alternates: {
      canonical: canonicalUrl,
      languages: generateLanguageAlternates(seoContent.path),
    },
    
    robots: {
      index: true,
      follow: true,
      googleBot: {
        index: true,
        follow: true,
      },
    },
  };
}

function generateLanguageAlternates(path: string) {
  const baseUrl = process.env.NEXT_PUBLIC_SITE_URL || 'https://www.elec-distributor.com';
  const alternates: Record<string, string> = {};
  
  Object.keys(SUPPORTED_LOCALES).forEach(locale => {
    alternates[locale] = locale === 'zh' 
      ? `${baseUrl}${path}`
      : `${baseUrl}/${locale}${path}`;
  });
  
  return alternates;
}
```