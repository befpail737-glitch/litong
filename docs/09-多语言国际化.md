# 多语言国际化设计

## 支持语言列表

### 目标语言市场
```javascript
export const SUPPORTED_LOCALES = {
  'zh': {
    name: '中文简体',
    nativeName: '中文简体',
    flag: '🇨🇳',
    dir: 'ltr',
    region: 'CN',
    currency: 'CNY',
    numberFormat: 'zh-CN'
  },
  'en': {
    name: 'English',
    nativeName: 'English',
    flag: '🇺🇸',
    dir: 'ltr',
    region: 'US',
    currency: 'USD',
    numberFormat: 'en-US'
  },
  'ja': {
    name: 'Japanese',
    nativeName: '日本語',
    flag: '🇯🇵',
    dir: 'ltr',
    region: 'JP',
    currency: 'JPY',
    numberFormat: 'ja-JP'
  },
  'ko': {
    name: 'Korean',
    nativeName: '한국어',
    flag: '🇰🇷',
    dir: 'ltr',
    region: 'KR',
    currency: 'KRW',
    numberFormat: 'ko-KR'
  },
  'ru': {
    name: 'Russian',
    nativeName: 'Русский',
    flag: '🇷🇺',
    dir: 'ltr',
    region: 'RU',
    currency: 'RUB',
    numberFormat: 'ru-RU'
  },
  'vi': {
    name: 'Vietnamese',
    nativeName: 'Tiếng Việt',
    flag: '🇻🇳',
    dir: 'ltr',
    region: 'VN',
    currency: 'VND',
    numberFormat: 'vi-VN'
  },
  'fr': {
    name: 'French',
    nativeName: 'Français',
    flag: '🇫🇷',
    dir: 'ltr',
    region: 'FR',
    currency: 'EUR',
    numberFormat: 'fr-FR'
  },
  'de': {
    name: 'German',
    nativeName: 'Deutsch',
    flag: '🇩🇪',
    dir: 'ltr',
    region: 'DE',
    currency: 'EUR',
    numberFormat: 'de-DE'
  },
  'it': {
    name: 'Italian',
    nativeName: 'Italiano',
    flag: '🇮🇹',
    dir: 'ltr',
    region: 'IT',
    currency: 'EUR',
    numberFormat: 'it-IT'
  },
  'tr': {
    name: 'Turkish',
    nativeName: 'Türkçe',
    flag: '🇹🇷',
    dir: 'ltr',
    region: 'TR',
    currency: 'TRY',
    numberFormat: 'tr-TR'
  },
  'ar': {
    name: 'Arabic',
    nativeName: 'العربية',
    flag: '🇸🇦',
    dir: 'rtl',
    region: 'SA',
    currency: 'SAR',
    numberFormat: 'ar-SA'
  }
};

export const DEFAULT_LOCALE = 'zh';
export const FALLBACK_LOCALE = 'en';
```

## i18n架构设计

### Next.js国际化配置
```typescript
// src/i18n/config.ts
export const i18nConfig = {
  defaultLocale: 'zh',
  locales: ['zh', 'en', 'ja', 'ko', 'ru', 'vi', 'fr', 'de', 'it', 'tr', 'ar'],
  localeDetection: false, // 禁用自动检测，使用URL路径
  
  // 语言映射
  localeMapping: {
    'zh-cn': 'zh',
    'zh-hans': 'zh',
    'en-us': 'en',
    'ja-jp': 'ja',
    'ko-kr': 'ko',
  },
  
  // 域名本地化（可选）
  domains: [
    {
      domain: 'elec-distributor.com',
      defaultLocale: 'zh',
    },
    {
      domain: 'elec-distributor.com.en',
      defaultLocale: 'en',
    },
  ],
} as const;

export type Locale = typeof i18nConfig.locales[number];
```

### 语言包结构设计
```typescript
// src/i18n/types.ts
export interface TranslationKeys {
  common: {
    brand: string;
    company: string;
    loading: string;
    error: string;
    success: string;
    cancel: string;
    confirm: string;
    save: string;
    edit: string;
    delete: string;
    search: string;
    filter: string;
    sort: string;
    more: string;
    less: string;
  };
  
  navigation: {
    home: string;
    brands: string;
    products: string;
    about: string;
    contact: string;
    search: string;
    language: string;
  };
  
  homepage: {
    hero: {
      title: string;
      subtitle: string;
      cta_primary: string;
      cta_secondary: string;
    };
    advantages: {
      title: string;
      inventory: {
        title: string;
        description: string;
      };
      support: {
        title: string;
        description: string;
      };
      quality: {
        title: string;
        description: string;
      };
      logistics: {
        title: string;
        description: string;
      };
    };
    products: {
      title: string;
      view_all: string;
    };
    solutions: {
      title: string;
      view_all: string;
    };
    news: {
      title: string;
      view_all: string;
    };
  };
  
  products: {
    title: string;
    category: string;
    brand: string;
    price: string;
    stock: string;
    datasheet: string;
    inquiry: string;
    compare: string;
    favorite: string;
    in_stock: string;
    backorder: string;
    out_of_stock: string;
    specifications: string;
    related_products: string;
    technical_support: string;
  };
  
  inquiry: {
    title: string;
    single_product: string;
    bulk_inquiry: string;
    quantity: string;
    lead_time: string;
    contact_name: string;
    phone: string;
    email: string;
    company: string;
    application: string;
    remarks: string;
    submit: string;
    success_message: string;
    error_message: string;
  };
  
  footer: {
    company_info: string;
    quick_links: string;
    services: string;
    contact: string;
    copyright: string;
    distributor_expert: string;
    professional_distributor: string;
    chip_supplier: string;
    technical_support: string;
    bom_service: string;
  };
  
  seo: {
    home: {
      title: string;
      description: string;
    };
    brands: {
      title: string;
      description: string;
    };
    products: {
      title: string;
      description: string;
    };
    about: {
      title: string;
      description: string;
    };
  };
}
```

## 语言包内容

### 中文语言包
```json
// src/i18n/locales/zh.json
{
  "common": {
    "brand": "力通电子",
    "company": "力通电子有限公司",
    "loading": "加载中...",
    "error": "出错了",
    "success": "成功",
    "cancel": "取消",
    "confirm": "确认",
    "save": "保存",
    "edit": "编辑",
    "delete": "删除",
    "search": "搜索",
    "filter": "筛选",
    "sort": "排序",
    "more": "更多",
    "less": "收起"
  },
  
  "navigation": {
    "home": "首页",
    "brands": "品牌中心",
    "products": "产品分类",
    "about": "关于我们",
    "contact": "联系我们",
    "search": "搜索产品",
    "language": "语言"
  },
  
  "homepage": {
    "hero": {
      "title": "电子元件代理专家 | 芯片现货供应商 - 力通电子",
      "subtitle": "专业电子元件代理商，提供正品原装芯片现货，技术支持与优势价格",
      "cta_primary": "立即咨询",
      "cta_secondary": "产品目录"
    },
    "advantages": {
      "title": "为什么选择力通电子",
      "inventory": {
        "title": "深度库存",
        "description": "超过10万种电子元件现货库存，确保快速交付"
      },
      "support": {
        "title": "技术支持",
        "description": "专业FAE团队提供全方位技术支持和选型建议"
      },
      "quality": {
        "title": "品质保证",
        "description": "完整的数字证书追踪系统，确保产品原装正品"
      },
      "logistics": {
        "title": "物流配送",
        "description": "全球物流配送网络，快速安全送达"
      }
    },
    "products": {
      "title": "核心产品领域",
      "view_all": "查看全部产品"
    },
    "solutions": {
      "title": "解决方案",
      "view_all": "查看全部方案"
    },
    "news": {
      "title": "最新动态",
      "view_all": "查看全部新闻"
    }
  },
  
  "products": {
    "title": "产品中心",
    "category": "产品分类",
    "brand": "品牌",
    "price": "价格",
    "stock": "库存",
    "datasheet": "规格书",
    "inquiry": "询价",
    "compare": "对比",
    "favorite": "收藏",
    "in_stock": "现货",
    "backorder": "期货",
    "out_of_stock": "缺货",
    "specifications": "技术规格",
    "related_products": "相关产品",
    "technical_support": "技术支持"
  },
  
  "inquiry": {
    "title": "产品询价",
    "single_product": "单产品询价",
    "bulk_inquiry": "批量询价",
    "quantity": "询价数量",
    "lead_time": "期望交期",
    "contact_name": "联系人",
    "phone": "联系电话",
    "email": "邮箱地址",
    "company": "公司名称",
    "application": "应用场景",
    "remarks": "备注信息",
    "submit": "提交询价",
    "success_message": "询价申请已提交，我们会尽快与您联系",
    "error_message": "提交失败，请检查信息后重试"
  },
  
  "footer": {
    "company_info": "力通电子 - 电子元件代理专家",
    "quick_links": "快速链接",
    "services": "核心服务",
    "contact": "联系我们",
    "copyright": "力通电子 - 值得信赖的电子元件代理商",
    "distributor_expert": "专业电子元件代理商，提供正品原装芯片现货，覆盖全球知名品牌",
    "professional_distributor": "电子元件代理服务",
    "chip_supplier": "芯片现货供应",
    "technical_support": "技术支持服务",
    "bom_service": "BOM配单服务"
  },
  
  "seo": {
    "home": {
      "title": "电子元件核心代理 | 提供正品原装现货 | LiTong",
      "description": "力通是电子元件核心代理，长期稳定供应提供正品原装现货。并提供技术支持和优势价格，欢迎咨询。"
    },
    "brands": {
      "title": "品牌中心 | 电子元件品牌代理商 | 力通电子",
      "description": "力通电子代理全球知名电子元件品牌，提供原装正品和专业技术支持。"
    },
    "products": {
      "title": "产品中心 | 电子元件产品分类 | 力通电子",
      "description": "力通电子提供完整的电子元件产品分类，包括集成电路、分立器件、无源器件等。"
    },
    "about": {
      "title": "关于我们 | 电子元件代理商介绍 | 力通电子",
      "description": "了解力通电子的发展历程、核心优势和服务能力，专业的电子元件代理商。"
    }
  }
}
```

### 英文语言包
```json
// src/i18n/locales/en.json
{
  "common": {
    "brand": "LiTong Electronics",
    "company": "LiTong Electronics Co., Ltd.",
    "loading": "Loading...",
    "error": "Error",
    "success": "Success",
    "cancel": "Cancel",
    "confirm": "Confirm",
    "save": "Save",
    "edit": "Edit",
    "delete": "Delete",
    "search": "Search",
    "filter": "Filter",
    "sort": "Sort",
    "more": "More",
    "less": "Less"
  },
  
  "navigation": {
    "home": "Home",
    "brands": "Brands",
    "products": "Products",
    "about": "About",
    "contact": "Contact",
    "search": "Search Products",
    "language": "Language"
  },
  
  "homepage": {
    "hero": {
      "title": "Electronic Components Distributor | IC Chips Supplier - LiTong",
      "subtitle": "Professional electronic components distributor providing genuine IC chips in stock with technical support and competitive prices",
      "cta_primary": "Contact Us",
      "cta_secondary": "Product Catalog"
    },
    "advantages": {
      "title": "Why Choose LiTong Electronics",
      "inventory": {
        "title": "Deep Inventory",
        "description": "Over 100,000 electronic components in stock for fast delivery"
      },
      "support": {
        "title": "Technical Support",
        "description": "Professional FAE team provides comprehensive technical support and selection guidance"
      },
      "quality": {
        "title": "Quality Assurance",
        "description": "Complete digital certificate tracking system ensures genuine original products"
      },
      "logistics": {
        "title": "Global Logistics",
        "description": "Worldwide logistics network for fast and secure delivery"
      }
    },
    "products": {
      "title": "Core Product Areas",
      "view_all": "View All Products"
    },
    "solutions": {
      "title": "Solutions",
      "view_all": "View All Solutions"
    },
    "news": {
      "title": "Latest News",
      "view_all": "View All News"
    }
  },
  
  "products": {
    "title": "Product Center",
    "category": "Category",
    "brand": "Brand",
    "price": "Price",
    "stock": "Stock",
    "datasheet": "Datasheet",
    "inquiry": "Inquiry",
    "compare": "Compare",
    "favorite": "Favorite",
    "in_stock": "In Stock",
    "backorder": "Backorder",
    "out_of_stock": "Out of Stock",
    "specifications": "Specifications",
    "related_products": "Related Products",
    "technical_support": "Technical Support"
  },
  
  "inquiry": {
    "title": "Product Inquiry",
    "single_product": "Single Product",
    "bulk_inquiry": "Bulk Inquiry",
    "quantity": "Quantity",
    "lead_time": "Lead Time",
    "contact_name": "Contact Name",
    "phone": "Phone",
    "email": "Email",
    "company": "Company",
    "application": "Application",
    "remarks": "Remarks",
    "submit": "Submit Inquiry",
    "success_message": "Inquiry submitted successfully, we will contact you soon",
    "error_message": "Submission failed, please check and try again"
  },
  
  "footer": {
    "company_info": "LiTong Electronics - Electronic Components Expert",
    "quick_links": "Quick Links",
    "services": "Core Services",
    "contact": "Contact Us",
    "copyright": "LiTong Electronics - Trusted Electronic Components Distributor",
    "distributor_expert": "Professional electronic components distributor providing genuine IC chips in stock, covering global renowned brands",
    "professional_distributor": "Electronic Components Distribution",
    "chip_supplier": "IC Chips Supply",
    "technical_support": "Technical Support",
    "bom_service": "BOM Service"
  },
  
  "seo": {
    "home": {
      "title": "Electronic Components Distributor | Genuine IC Chips Supplier | LiTong",
      "description": "LiTong is a professional electronic components distributor providing genuine original IC chips in stock with technical support and competitive prices."
    },
    "brands": {
      "title": "Brands | Electronic Components Brand Distributor | LiTong",
      "description": "LiTong Electronics distributes global renowned electronic component brands with genuine products and professional technical support."
    },
    "products": {
      "title": "Products | Electronic Components Categories | LiTong",
      "description": "LiTong Electronics provides complete electronic component categories including integrated circuits, discrete components, passive components, etc."
    },
    "about": {
      "title": "About Us | Electronic Components Distributor | LiTong",
      "description": "Learn about LiTong Electronics' history, core advantages and service capabilities as a professional electronic components distributor."
    }
  }
}
```

## i18n实现机制

### 翻译Hook设计
```typescript
// src/i18n/hooks/useTranslation.ts
'use client';

import { useContext } from 'react';
import { I18nContext } from '@/i18n/context';
import type { TranslationKeys } from '@/i18n/types';

type NestedKeyOf<ObjectType extends object> = {
  [Key in keyof ObjectType & (string | number)]: ObjectType[Key] extends object
    ? `${Key}` | `${Key}.${NestedKeyOf<ObjectType[Key]>}`
    : `${Key}`;
}[keyof ObjectType & (string | number)];

type TranslationKey = NestedKeyOf<TranslationKeys>;

export function useTranslation() {
  const context = useContext(I18nContext);
  
  if (!context) {
    throw new Error('useTranslation must be used within I18nProvider');
  }
  
  const { locale, translations, setLocale } = context;
  
  const t = (key: TranslationKey, params?: Record<string, string | number>): string => {
    const keys = key.split('.');
    let value: any = translations;
    
    for (const k of keys) {
      value = value?.[k];
    }
    
    if (typeof value !== 'string') {
      console.warn(`Translation missing for key: ${key}`);
      return key;
    }
    
    // 参数替换
    if (params) {
      return value.replace(/\{\{(\w+)\}\}/g, (match: string, paramKey: string) => {
        return params[paramKey]?.toString() || match;
      });
    }
    
    return value;
  };
  
  return {
    t,
    locale,
    setLocale,
    isRTL: locale === 'ar',
  };
}

// 服务端翻译函数
export async function getTranslation(locale: string) {
  try {
    const translations = await import(`@/i18n/locales/${locale}.json`);
    return translations.default;
  } catch (error) {
    console.warn(`Failed to load translations for locale: ${locale}`);
    const fallback = await import(`@/i18n/locales/en.json`);
    return fallback.default;
  }
}
```

### 语言切换组件
```typescript
// src/components/common/LanguageSwitch/LanguageSwitch.tsx
'use client';

import { useState } from 'react';
import { useRouter, usePathname } from 'next/navigation';
import { useTranslation } from '@/i18n/hooks/useTranslation';
import { SUPPORTED_LOCALES } from '@/i18n/config';
import { ChevronDownIcon, GlobeIcon } from '@/components/icons';

interface LanguageSwitchProps {
  className?: string;
  showLabel?: boolean;
}

export function LanguageSwitch({ className = '', showLabel = true }: LanguageSwitchProps) {
  const [isOpen, setIsOpen] = useState(false);
  const { locale, t } = useTranslation();
  const router = useRouter();
  const pathname = usePathname();
  
  const currentLocale = SUPPORTED_LOCALES[locale as keyof typeof SUPPORTED_LOCALES];
  
  const handleLocaleChange = (newLocale: string) => {
    // 移除当前语言前缀
    const pathnameWithoutLocale = pathname.replace(`/${locale}`, '') || '/';
    
    // 添加新语言前缀（除了默认语言）
    const newPath = newLocale === 'zh' 
      ? pathnameWithoutLocale 
      : `/${newLocale}${pathnameWithoutLocale}`;
    
    router.push(newPath);
    setIsOpen(false);
  };
  
  return (
    <div className={`relative ${className}`}>
      <button
        onClick={() => setIsOpen(!isOpen)}
        className="flex items-center space-x-2 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
        aria-expanded={isOpen}
        aria-haspopup="true"
      >
        <GlobeIcon className="w-4 h-4" />
        <span className="flex items-center">
          <span className="mr-1">{currentLocale.flag}</span>
          {showLabel && <span>{currentLocale.nativeName}</span>}
        </span>
        <ChevronDownIcon className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''}`} />
      </button>
      
      {isOpen && (
        <>
          {/* 遮罩层 */}
          <div
            className="fixed inset-0 z-40"
            onClick={() => setIsOpen(false)}
          />
          
          {/* 下拉菜单 */}
          <div className="absolute right-0 z-50 mt-1 w-56 bg-white border border-gray-200 rounded-md shadow-lg">
            <div className="py-1" role="menu">
              {Object.entries(SUPPORTED_LOCALES).map(([code, localeInfo]) => (
                <button
                  key={code}
                  onClick={() => handleLocaleChange(code)}
                  className={`w-full flex items-center px-4 py-2 text-sm text-left hover:bg-gray-100 ${
                    locale === code ? 'bg-primary-50 text-primary-600' : 'text-gray-700'
                  }`}
                  role="menuitem"
                >
                  <span className="mr-3">{localeInfo.flag}</span>
                  <div>
                    <div className="font-medium">{localeInfo.nativeName}</div>
                    <div className="text-xs text-gray-500">{localeInfo.name}</div>
                  </div>
                  {locale === code && (
                    <svg className="w-4 h-4 ml-auto text-primary-600" fill="currentColor" viewBox="0 0 20 20">
                      <path fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
                    </svg>
                  )}
                </button>
              ))}
            </div>
          </div>
        </>
      )}
    </div>
  );
}
```

## 本地化适配策略

### 数字和货币格式化
```typescript
// src/lib/utils/format.ts
import { SUPPORTED_LOCALES } from '@/i18n/config';

export function formatCurrency(
  amount: number,
  currency: string,
  locale: string
): string {
  const localeConfig = SUPPORTED_LOCALES[locale as keyof typeof SUPPORTED_LOCALES];
  
  try {
    return new Intl.NumberFormat(localeConfig?.numberFormat || 'zh-CN', {
      style: 'currency',
      currency: currency || localeConfig?.currency || 'CNY',
      minimumFractionDigits: currency === 'JPY' ? 0 : 2,
    }).format(amount);
  } catch (error) {
    // 回退格式
    return `${currency} ${amount.toFixed(2)}`;
  }
}

export function formatNumber(
  number: number,
  locale: string,
  options?: Intl.NumberFormatOptions
): string {
  const localeConfig = SUPPORTED_LOCALES[locale as keyof typeof SUPPORTED_LOCALES];
  
  try {
    return new Intl.NumberFormat(
      localeConfig?.numberFormat || 'zh-CN',
      options
    ).format(number);
  } catch (error) {
    return number.toString();
  }
}

export function formatDate(
  date: Date | string,
  locale: string,
  options?: Intl.DateTimeFormatOptions
): string {
  const dateObj = typeof date === 'string' ? new Date(date) : date;
  const localeConfig = SUPPORTED_LOCALES[locale as keyof typeof SUPPORTED_LOCALES];
  
  const defaultOptions: Intl.DateTimeFormatOptions = {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  };
  
  try {
    return new Intl.DateTimeFormat(
      localeConfig?.numberFormat || 'zh-CN',
      { ...defaultOptions, ...options }
    ).format(dateObj);
  } catch (error) {
    return dateObj.toLocaleDateString();
  }
}
```

### RTL语言支持
```scss
// src/styles/rtl.scss
:root[dir="rtl"] {
  // RTL特定样式变量
  --text-align-start: right;
  --text-align-end: left;
  --margin-start: margin-right;
  --margin-end: margin-left;
  --padding-start: padding-right;
  --padding-end: padding-left;
  --border-start: border-right;
  --border-end: border-left;
}

:root[dir="ltr"] {
  --text-align-start: left;
  --text-align-end: right;
  --margin-start: margin-left;
  --margin-end: margin-right;
  --padding-start: padding-left;
  --padding-end: padding-right;
  --border-start: border-left;
  --border-end: border-right;
}

// RTL适配的组件样式
.navigation-menu {
  text-align: var(--text-align-start);
  
  [dir="rtl"] & {
    .menu-item {
      margin-right: 0;
      margin-left: 1rem;
    }
    
    .dropdown-arrow {
      transform: scaleX(-1);
    }
  }
}

.product-card {
  [dir="rtl"] & {
    .price-section {
      text-align: var(--text-align-start);
    }
    
    .action-buttons {
      flex-direction: row-reverse;
    }
  }
}

// 阿拉伯语特殊字体
[lang="ar"] {
  font-family: 'Noto Sans Arabic', 'Arabic UI Text', Arial, sans-serif;
  line-height: 1.8; // 阿拉伯语需要更大行高
}
```

### 动态导入语言包
```typescript
// src/lib/i18n/loader.ts
import { cache } from 'react';
import type { TranslationKeys } from '@/i18n/types';

// 缓存翻译数据
export const getTranslations = cache(async (locale: string): Promise<TranslationKeys> => {
  try {
    // 动态导入语言包
    const module = await import(`@/i18n/locales/${locale}.json`);
    return module.default;
  } catch (error) {
    console.warn(`Failed to load locale ${locale}, falling back to English`);
    // 回退到英文
    const fallback = await import('@/i18n/locales/en.json');
    return fallback.default;
  }
});

// 预加载常用语言包
export const preloadTranslations = (locales: string[]) => {
  return Promise.all(
    locales.map(locale => 
      import(`@/i18n/locales/${locale}.json`).catch(() => null)
    )
  );
};

// 检查语言包是否存在
export const isLocaleSupported = (locale: string): boolean => {
  const supportedLocales = ['zh', 'en', 'ja', 'ko', 'ru', 'vi', 'fr', 'de', 'it', 'tr', 'ar'];
  return supportedLocales.includes(locale);
};
```

## SEO多语言优化

### hreflang标记生成
```typescript
// src/components/common/SEO/HreflangLinks.tsx
import { SUPPORTED_LOCALES } from '@/i18n/config';

interface HreflangLinksProps {
  currentPath: string;
  currentLocale: string;
}

export function HreflangLinks({ currentPath, currentLocale }: HreflangLinksProps) {
  const baseUrl = process.env.NEXT_PUBLIC_SITE_URL || 'https://www.elec-distributor.com';
  
  // 移除当前语言前缀
  const pathWithoutLocale = currentPath.replace(`/${currentLocale}`, '') || '/';
  
  return (
    <>
      {Object.entries(SUPPORTED_LOCALES).map(([locale, config]) => {
        const href = locale === 'zh' 
          ? `${baseUrl}${pathWithoutLocale}`
          : `${baseUrl}/${locale}${pathWithoutLocale}`;
          
        return (
          <link
            key={locale}
            rel="alternate"
            hrefLang={locale}
            href={href}
          />
        );
      })}
      
      {/* x-default指向默认语言 */}
      <link
        rel="alternate"
        hrefLang="x-default"
        href={`${baseUrl}${pathWithoutLocale}`}
      />
    </>
  );
}
```

### 多语言SEO元数据
```typescript
// src/lib/seo/generateMetadata.ts
import { getTranslations } from '@/lib/i18n/loader';
import type { Metadata } from 'next';

interface SEOParams {
  locale: string;
  page: string;
  params?: Record<string, string>;
}

export async function generateLocalizedMetadata({ 
  locale, 
  page, 
  params = {} 
}: SEOParams): Promise<Metadata> {
  const t = await getTranslations(locale);
  const baseUrl = process.env.NEXT_PUBLIC_SITE_URL || 'https://www.elec-distributor.com';
  
  // 根据页面类型生成不同的SEO内容
  const seoContent = generateSEOContent(t, page, params);
  
  const canonicalUrl = locale === 'zh' 
    ? `${baseUrl}${seoContent.path}`
    : `${baseUrl}/${locale}${seoContent.path}`;
    
  return {
    title: seoContent.title,
    description: seoContent.description,
    keywords: seoContent.keywords,
    
    openGraph: {
      title: seoContent.title,
      description: seoContent.description,
      url: canonicalUrl,
      siteName: t.common.brand,
      locale: locale,
      type: 'website',
    },
    
    twitter: {
      card: 'summary_large_image',
      title: seoContent.title,
      description: seoContent.description,
    },
    
    alternates: {
      canonical: canonicalUrl,
      languages: generateLanguageAlternates(seoContent.path),
    },
    
    robots: {
      index: true,
      follow: true,
      googleBot: {
        index: true,
        follow: true,
      },
    },
  };
}

function generateLanguageAlternates(path: string) {
  const baseUrl = process.env.NEXT_PUBLIC_SITE_URL || 'https://www.elec-distributor.com';
  const alternates: Record<string, string> = {};
  
  Object.keys(SUPPORTED_LOCALES).forEach(locale => {
    alternates[locale] = locale === 'zh' 
      ? `${baseUrl}${path}`
      : `${baseUrl}/${locale}${path}`;
  });
  
  return alternates;
}
```